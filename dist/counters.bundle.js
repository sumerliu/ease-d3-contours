!function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_CONTOUR_MARGIN={top:20,right:30,bottom:30,left:40},e.NOOP=function(){},e.DEFAULT_CONTOUR_CONFIG={el:null,data:[],margin:e.DEFAULT_CONTOUR_MARGIN,width:600,height:600,xAlias:"",yAlias:"",title:"",bandwidth:30,threshold:30,tooltip:e.NOOP}},function(t,e){t.exports=d3},function(t){t.exports=JSON.parse('{"name":"ease-d3-contours","version":"0.0.1","description":"A easeily to add a contours to page by d3","main":"dist/index.js","scripts":{"test":"echo \\"Error: no test specified\\" && exit 1","build":"webpack --mode production --progress --display-modules --colors --display-reasons"},"repository":{"type":"git","url":"git+https://github.com/sumerliu/ease-d3-contours.git"},"keywords":["d3","contours"],"author":"Sumer Liu","license":"MIT","bugs":{"url":"https://github.com/sumerliu/ease-d3-contours/issues"},"homepage":"https://github.com/sumerliu/ease-d3-contours#readme","devDependencies":{"@types/d3":"^5.7.2","@types/node":"^13.9.0","clean-webpack-plugin":"^3.0.0","d3":"^5.15.0","expose-loader":"^0.7.5","jest":"^25.1.0","prettier":"^1.19.1","ts-jest":"^25.2.1","ts-loader":"^6.2.1","typescript":"^3.8.3","webpack":"^4.42.0","webpack-cli":"^3.3.11"}}')},,function(t,e,n){(function(e){t.exports=e.EaseD3Contours=n(6)}).call(this,n(5))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e};Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),s=i(n(1)),a=function(){function t(t){var e=this;this.version=n(2).version,this.createdBy="sumerliu@github.com";var i=this;this.init();var a=o(o({},r.DEFAULT_CONTOUR_MARGIN),t.margin);this.config=o(o({},r.DEFAULT_CONTOUR_CONFIG),t),this.config.margin=a,this.config.tooltip=this.config.tooltip!=r.NOOP?this.config.tooltip:this.defaultTooltip;var l=function(t){var n=t,o=e.config.width+28+4,i=e.config.height+4,r=Math.ceil((o- -2)/4),s=Math.ceil((i- -2)/4);return n.x=-4,n.y=-4,n.k=4,n.n=r,n.m=s,n}(this.config.data);if(this.x=s.scaleLinear([-2,2],[0,this.config.width+28]),this.y=s.scaleLinear([-2,1],[this.config.height,0]),this.contours=s.contours().size([l.n,l.m]).thresholds(this.config.threshold)(l).map((function(t){return{type:t.type,value:t.value,coordinates:t.coordinates.map((function(t){return t.map((function(t){return t.map((function(t){var e=t[0],n=t[1];return[l.x+l.k*e,l.y+l.k*n]}))}))}))}})),this.color=s.scaleSequentialLog(s.extent(this.config.thresholds),s.interpolateMagma),this.xAxis=function(t){return t.attr("transform","translate(0,"+e.config.height+")").call(s.axisTop(i.x).ticks(e.config.width/e.config.height*10)).call((function(t){return t.select(".domain").remove()})).call((function(t){return t.selectAll(".tick").filter((function(t){return i.x.domain().includes(t)})).remove()}))},this.yAxis=function(t){return t.attr("transform","translate(-1,0)").call(s.axisRight(i.y)).call((function(t){return t.select(".domain").remove()})).call((function(t){return t.selectAll(".tick").filter((function(t){return i.y.domain().includes(t)})).remove()}))},!t.el)throw new Error("未挂载dom节点");s.select(t.el).append((function(){return e.chart()}))}return t.prototype.defaultTooltip=function(t){return"<h5>"+this.title+"</h5><p>阈值为："+t.value+"</p>"},t.prototype.init=function(){this.tooltip=s.select("body").append("div").attr("class","tooltip").attr("opacity",0)},t.prototype.chart=function(){var t=this,e=s.create("svg").attr("viewBox",[0,0,t.config.width+28,t.config.height]).style("display","block").style("margin","0 -14px").style("width","calc(100% + 28px)");return e.append("g").call(t.xAxis),e.append("g").call(t.yAxis),e.append("g").attr("fill","none").attr("stroke-linejoin","round").selectAll("path").data(t.contours).join("path").on("mouseover",(function(e){var n=t.config.tooltip(e);t.tooltip.html(n).style("left",s.event.pageX+"px").style("top",s.event.pageY+20+"px").style("display","block"),s.select(this).attr("fill-opacity",.2)})).on("mouseout",(function(e){t.tooltip.style("display","none"),s.select(this).attr("fill-opacity",1)})).attr("fill",(function(e){return t.color(e.value)})).attr("d",s.geoPath()),e.node()},t}();t.exports=a}]);
//# sourceMappingURL=counters.bundle.js.map